{"version":3,"sources":["App.module.css","images/quickzap1.png","components/Header.js","utils/fetcher.js","utils/useTokens.js","images/eth-symbol.png","utils/usePay.js","components/TokenList.js","components/Pay.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","withStyles","logo","width","header","display","justifyContent","alignItems","account","padding","border","classes","useWeb3React","activate","active","injected","InjectedConnector","supportedChainIds","connectWallet","Button","variant","color","onClick","className","src","quickzapLogo","alt","Paper","Typography","slice","fetcher","library","args","isAddress","address","abi","method","params","contract","Contract","getSigner","initialTokens","name1","name2","symbol","logoURI","decimals","chainId","trades","amountsIn","sendPrices","dialog","position","dialogTitle","listItemText","closeBtn","right","top","tokenImg","height","borderRadius","boxShadow","backgroundColor","open","handleClose","setTokens","tokens","useState","price","setPrice","useEffect","tokenBalances","map","token","erc20","newTokens","Promise","all","then","balances","forEach","balance","index","push","formatUnits","axios","get","ids","join","vs_currencies","res","prices","data","tokenName","find","Object","entries","useTokens","tokensMarkup","ListItem","button","ListItemIcon","parseFloat","toFixed","usd","Dialog","onClose","aria-labelledby","DialogTitle","List","IconButton","aria-label","getToken","Token","WETH","ChainId","ROPSTEN","getTrade","sendToken","receiveToken","amountIn","a","Fetcher","fetchPairData","sendPair","receivePair","path","route","Route","trade","Trade","TokenAmount","TradeType","EXACT_OUTPUT","console","log","quickzapAddress","MaxUint256","toString","pay","left","transform","tokenSymbol","fontWeight","payBtn","marginTop","usdEqv","selectToken","fontSize","center","textAlign","receiverAddress","receiverToken","tokenListOpen","setTokenListOpen","senderToken","setSenderToken","senderTokenAmount","setSenderTokenAmount","loading","setLoading","senderTokenValue","setSenderTokenValue","paid","setPaid","mainBtn","setMainBtn","bestSenderToken","useRef","payAmount","bestToken","slippageTolerance","Percent","parseInt","divide","maximumAmountIn","raw","amounts","amount","findIndex","indexOf","Math","min","current","usePay","tokenAmount","tokenValue","newPath","useCallback","value","parseUnits","AddressZero","amountOut","deadline","floor","Date","now","quickzap","btn","allowedQuickzap","allowed","approveQuickzap","fullWidth","size","disabled","myApproval","filters","Approval","on","myPayment","Payment","removeAllListeners","input","endIcon","CircularProgress","undefined","_tokens","theme","createMuiTheme","palette","primary","main","secondary","getLibrary","provider","connector","Web3Provider","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c4bba10.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__22tRf\"};","export default __webpack_public_path__ + \"static/media/quickzap1.9203ccd9.png\";","import React from \"react\";\r\nimport quickzapLogo from \"../images/quickzap1.png\";\r\n//MUI stuff\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n//Web3React stuff\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\r\n\r\nconst styles = {\r\n  logo: {\r\n    width: \"9rem\",\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  },\r\n  account: {\r\n    padding: \"0.5rem 0.3rem\",\r\n    border: \"1px solid rgb(247, 248, 250)\",\r\n  },\r\n};\r\n\r\nconst Header = ({ classes }) => {\r\n  const { activate, active, account } = useWeb3React();\r\n  const injected = new InjectedConnector({\r\n    supportedChainIds: [1, 3, 4, 5, 42],\r\n  });\r\n\r\n  const connectWallet = (\r\n    <Button\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      onClick={() => activate(injected)}\r\n    >\r\n      Connect Wallet\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <header className={classes.header}>\r\n      <img className={classes.logo} src={quickzapLogo} alt=\"logo\" />\r\n      {active ? (\r\n        <Paper className={classes.account}>\r\n          <Typography variant=\"body1\">{`${account.slice(\r\n            0,\r\n            6\r\n          )}...${account.slice(-5, -1)}`}</Typography>\r\n        </Paper>\r\n      ) : (\r\n        connectWallet\r\n      )}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Header);\r\n","//Ethersjs stuff\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport { isAddress } from \"@ethersproject/address\";\r\n\r\nexport default function fetcher(library, ...args) {\r\n  if (isAddress(args[0])) {\r\n    const [address, abi, method, ...params] = args;\r\n    const contract = new Contract(address, abi, library.getSigner());\r\n    return contract[method](...params);\r\n  }\r\n  const [method, ...params] = args;\r\n  return library[method](...params);\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport fetcher from \"./fetcher\";\r\nimport erc20 from \"./abis/@openzeppelin/contracts/token/ERC20/ERC20.sol/ERC20.json\";\r\nimport axios from \"axios\";\r\nimport ethImage from \"../images/eth-symbol.png\";\r\n//Ethersjs stuff\r\nimport { formatUnits } from \"@ethersproject/units\";\r\n//Web3React stuff\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nconst initialTokens = [\r\n  {\r\n    name1: \"Ether\",\r\n    name2: \"ethereum\",\r\n    symbol: \"ETH\",\r\n    address: \"0xnull\",\r\n    logoURI: ethImage,\r\n    decimals: 18,\r\n  },\r\n  {\r\n    name1: \"Wrapped Ether\",\r\n    name2: \"weth\",\r\n    address: \"0xc778417E063141139Fce010982780140Aa0cD5Ab\",\r\n    symbol: \"WETH\",\r\n    decimals: 18,\r\n    chainId: 3,\r\n    logoURI:\r\n      \"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png\",\r\n  },\r\n  {\r\n    name1: \"Dai Stablecoin\",\r\n    name2: \"dai\",\r\n    address: \"0xaD6D458402F60fD3Bd25163575031ACDce07538D\",\r\n    symbol: \"DAI\",\r\n    decimals: 18,\r\n    chainId: 3,\r\n    logoURI:\r\n      \"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png\",\r\n  },\r\n  {\r\n    name1: \"Uniswap\",\r\n    name2: \"uniswap\",\r\n    address: \"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984\",\r\n    symbol: \"UNI\",\r\n    decimals: 18,\r\n    chainId: 3,\r\n    logoURI:\r\n      \"https://cloudflare-ipfs.com/ipfs/QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg/\",\r\n  },\r\n];\r\n\r\nexport default function useTokens() {\r\n  const { active, account, library } = useWeb3React();\r\n  const [price, setPrice] = useState(false);\r\n  let [tokens, setTokens] = useState(initialTokens);\r\n\r\n  useEffect(() => {\r\n    if (!active) return;\r\n    const tokenBalances = tokens.map((token) => {\r\n      if (token.name1 === \"Ether\") {\r\n        return fetcher(library, \"getBalance\", account);\r\n      }\r\n      return fetcher(library, token.address, erc20.abi, \"balanceOf\", account);\r\n    });\r\n\r\n    let newTokens = [];\r\n\r\n    Promise.all(tokenBalances).then((balances) => {\r\n      balances.forEach((balance, index) => {\r\n        newTokens.push({ ...tokens[index], balance: formatUnits(balance, 18) });\r\n      });\r\n      setTokens(newTokens);\r\n    });\r\n  }, [active, library, account, tokens]);\r\n\r\n  useEffect(() => {\r\n    if (price) return;\r\n    axios\r\n      .get(\"https://api.coingecko.com/api/v3/simple/price\", {\r\n        params: {\r\n          ids: tokens.map((token) => token.name2).join(\",\"),\r\n          vs_currencies: \"usd\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        const prices = res.data;\r\n        const newTokens = [...tokens];\r\n        for (const [tokenName, price] of Object.entries(prices)) {\r\n          const token = newTokens.find((token) => token.name2 === tokenName);\r\n          token.price = price;\r\n        }\r\n        setPrice(true);\r\n        setTokens(newTokens);\r\n      });\r\n  });\r\n  return tokens;\r\n}\r\n","export default \"data:image/png;base64,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\"","import { useState, useEffect, useRef } from \"react\";\r\n//mathjs stuff\r\nimport { divide } from \"mathjs\";\r\n//Uniswap stuff\r\nimport {\r\n  ChainId,\r\n  Token,\r\n  WETH,\r\n  Fetcher,\r\n  Trade,\r\n  Route,\r\n  TokenAmount,\r\n  TradeType,\r\n  Percent,\r\n} from \"@uniswap/sdk\";\r\n\r\nconst getToken = (token) =>\r\n  new Token(\r\n    token.chainId,\r\n    (token.address =\r\n      token.address === \"0xnull\"\r\n        ? WETH[ChainId.ROPSTEN].address\r\n        : token.address),\r\n    token.decimals,\r\n    token.symbol,\r\n    token.name1\r\n  );\r\n\r\nconst getTrade = async (sendToken, receiveToken, amountIn) => {\r\n  //sending and receiving same token\r\n  if (sendToken === receiveToken) return;\r\n  //eth and weth\r\n  if (sendToken.symbol === \"WETH\" && receiveToken.symbol === \"ETH\")\r\n    return \"WETH\";\r\n  if (sendToken.symbol === \"ETH\" && receiveToken.symbol === \"WETH\")\r\n    return \"ETH\";\r\n\r\n  sendToken = getToken(sendToken);\r\n  receiveToken = getToken(receiveToken);\r\n\r\n  let sendPair, receivePair;\r\n\r\n  if (\r\n    sendToken.address !== WETH[ChainId.ROPSTEN].address &&\r\n    receiveToken.address !== WETH[ChainId.ROPSTEN].address\r\n  ) {\r\n    sendPair = await Fetcher.fetchPairData(sendToken, WETH[ChainId.ROPSTEN]);\r\n    receivePair = await Fetcher.fetchPairData(\r\n      receiveToken,\r\n      WETH[ChainId.ROPSTEN]\r\n    );\r\n  } else {\r\n    sendPair = await Fetcher.fetchPairData(sendToken, receiveToken);\r\n  }\r\n  const path = receivePair ? [sendPair, receivePair] : [sendPair];\r\n  const route = new Route(path, sendToken);\r\n\r\n  const trade = new Trade(\r\n    route,\r\n    new TokenAmount(receiveToken, amountIn),\r\n    TradeType.EXACT_OUTPUT\r\n  );\r\n  console.log(trade.route.path);\r\n  return trade;\r\n};\r\n\r\nlet trades, amountsIn, sendPrices;\r\n\r\nexport default function usePay(tokens, receiveToken, sendToken, payAmount) {\r\n  const [senderTokenAmount, setSenderTokenAmount] = useState(0);\r\n  const [senderTokenValue, setSenderTokenValue] = useState(0);\r\n\r\n  const bestToken = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!tokens || !tokens[0].price || !tokens[0].balance) return [0, 0];\r\n\r\n    const slippageTolerance = new Percent(\"100\", \"10000\"); // 50 bips, or 0.50%\r\n    const amountIn = parseInt(\r\n      divide(payAmount, receiveToken.price.usd) * 10 ** 18\r\n    );\r\n    const getTrades = (trades) =>\r\n      !trades\r\n        ? tokens.map((token) => getTrade(token, receiveToken, amountIn))\r\n        : trades;\r\n\r\n    trades = getTrades(trades);\r\n    amountsIn = Promise.all(trades).then((trades) => {\r\n      return trades.map((trade) => {\r\n        if (typeof trade === \"string\") {\r\n          return divide(\r\n            payAmount,\r\n            tokens.find((token) => token.symbol === trade).price.usd\r\n          );\r\n        }\r\n        if (!trade) {\r\n          return divide(payAmount, receiveToken.price.usd);\r\n        }\r\n\r\n        return divide(\r\n          parseInt(trade.maximumAmountIn(slippageTolerance).raw.toString()),\r\n          10 ** 18\r\n        );\r\n      });\r\n    });\r\n\r\n    let index;\r\n    amountsIn\r\n      .then((amounts) => {\r\n        amountsIn = amounts;\r\n        sendPrices = amounts.map((amount, index) => {\r\n          return (amount * tokens[index].price.usd).toFixed(2);\r\n        });\r\n      })\r\n      .then(() => {\r\n        if (!sendToken) {\r\n          index = sendPrices.indexOf(Math.min(...sendPrices).toString());\r\n        } else {\r\n          index = tokens.findIndex((token) => {\r\n            return token.address === sendToken.address;\r\n          });\r\n        }\r\n\r\n        bestToken.current = tokens[index];\r\n        setSenderTokenAmount(amountsIn[index]);\r\n        setSenderTokenValue(sendPrices[index]);\r\n        // const newPath = () => {\r\n        //   if (!trades[index]) return [sendToken.address];\r\n        //   else if (trades[index] === \"ETH\") return [AddressZero];\r\n        //   else if (trades[index] === \"WETH\") return [WETH[ChainId.ROPSTEN]];\r\n        //   else {\r\n        //     console.log(trades[index]);\r\n        //     return trades[index].route.path.map((token) => token.address);\r\n        //   }\r\n        // };\r\n        // setPath(newPath);\r\n      });\r\n  }, [payAmount, sendToken, tokens, receiveToken]);\r\n\r\n  return [senderTokenAmount, senderTokenValue, sendToken || bestToken.current];\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport useTokens from \"../utils/useTokens\";\r\n\r\n//MUI stuff\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\n//MUI icons\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst styles = {\r\n  dialog: {\r\n    position: \"relative\",\r\n  },\r\n  dialogTitle: {\r\n    width: \"23rem\",\r\n  },\r\n  listItemText: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    width: \"100%\",\r\n  },\r\n  closeBtn: {\r\n    position: \"absolute\",\r\n    right: 10,\r\n    top: 3,\r\n  },\r\n  tokenImg: {\r\n    width: 24,\r\n    height: 24,\r\n    borderRadius: 24,\r\n    boxShadow: \"rgb(0 0 0 / 8%) 0px 6px 10px\",\r\n    backgroundColor: \"rgb(255, 255, 255)\",\r\n  },\r\n};\r\n\r\nconst TokenList = ({ classes, open, handleClose, setTokens }) => {\r\n  const tokens = useTokens();\r\n  useEffect(() => {\r\n    if (tokens[0].balance && tokens[0].price) {\r\n      setTokens(tokens);\r\n    }\r\n  }, [tokens, setTokens]);\r\n\r\n  const tokensMarkup = tokens.map((token) => (\r\n    <ListItem button key={token.address} onClick={() => handleClose(token)}>\r\n      <ListItemIcon>\r\n        <img\r\n          alt=\"token_logo\"\r\n          src={token.logoURI}\r\n          className={classes.tokenImg}\r\n        />\r\n      </ListItemIcon>\r\n      <div className={classes.listItemText}>\r\n        <Typography variant=\"h6\">\r\n          {token.symbol}{\" \"}\r\n          {token.balance ? parseFloat(token.balance).toFixed(4) : \"\"}\r\n        </Typography>\r\n        <Typography variant=\"h6\">\r\n          ${\" \"}\r\n          {token.balance && token.price\r\n            ? (token.price.usd * token.balance).toFixed(2)\r\n            : \"\"}\r\n        </Typography>{\" \"}\r\n      </div>\r\n    </ListItem>\r\n  ));\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n      className={classes.dialog}\r\n    >\r\n      <DialogTitle className={classes.dialogTitle}>Select Token </DialogTitle>\r\n      <List>{tokensMarkup}</List>\r\n      <IconButton\r\n        onClick={handleClose}\r\n        aria-label=\"close\"\r\n        className={classes.closeBtn}\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nTokenList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n  setTokens: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(TokenList);\r\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport TokenList from \"./TokenList\";\r\nimport usePay from \"../utils/usePay\";\r\nimport erc20 from \"../utils/abis/@openzeppelin/contracts/token/ERC20/ERC20.sol/ERC20.json\";\r\nimport fetcher from \"../utils/fetcher\";\r\nimport quickzap from \"../utils/abis/contracts/Quickzap.sol/IQuickZap.json\";\r\nimport { divide } from \"mathjs\";\r\n//MUI stuff\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\n//Web3React Stuff\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\r\n//Uniswap stuff\r\nimport { WETH } from \"@uniswap/sdk\";\r\n//Ethersjs stuff\r\nimport { formatUnits, parseUnits } from \"@ethersproject/units\";\r\nimport { MaxUint256 } from \"@ethersproject/constants\";\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport { AddressZero } from \"@ethersproject/constants\";\r\n\r\nconst styles = {\r\n  pay: {\r\n    display: \"inline-block\",\r\n    position: \"relative\",\r\n    top: \"4rem\",\r\n    left: \"50%\",\r\n    transform: \"translateX(-50%)\",\r\n    padding: \"1rem\",\r\n    borderRadius: \"30px\",\r\n    width: \"23rem\",\r\n  },\r\n  token: {\r\n    borderRadius: 20,\r\n    border: \"1px solid rgb(247, 248, 250)\",\r\n    padding: \"1rem 1rem\",\r\n    position: \"relative\",\r\n    \"& div\": {\r\n      justifyContent: \"space-between\",\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  tokenSymbol: {\r\n    fontWeight: \"500\",\r\n  },\r\n  payBtn: {\r\n    marginTop: \"1rem\",\r\n  },\r\n  usdEqv: {\r\n    position: \"absolute\",\r\n    right: 10,\r\n    top: 3,\r\n  },\r\n  selectToken: {\r\n    fontSize: 15,\r\n  },\r\n  center: {\r\n    textAlign: \"center\",\r\n  },\r\n};\r\n\r\n//Deployed Quickzap\r\nconst quickzapAddress = \"0xc6FED2F29e40ACb9b8ba06c9e9A03A7A34Bad4a0\";\r\nconsole.log(MaxUint256.toString());\r\n\r\nconst Pay = ({ classes }) => {\r\n  //constants\r\n\r\n  // function getUrlVars() {\r\n  //   var vars = {};\r\n  //   var parts = window.location.href.replace(\r\n  //     /[?&]+([^=&]+)=([^&]*)/gi,\r\n  //     function (m, key, value) {\r\n  //       vars[key] = value;\r\n  //     }\r\n  //   );\r\n  //   return vars;\r\n  // }\r\n\r\n  // function getUrlParam(parameter, defaultvalue) {\r\n  //   var urlparameter = defaultvalue;\r\n  //   if (window.location.href.indexOf(parameter) > -1) {\r\n  //     urlparameter = getUrlVars()[parameter];\r\n  //   }\r\n  //   return urlparameter;\r\n  // }\r\n\r\n  // var add = getUrlParam(\"x\", \"0xnull\");\r\n  // var amount = getUrlParam(\"y\", \"0\");\r\n  // var tokentype = getUrlParam(\"z\", \"\");\r\n\r\n  // const receiverAddress = add;\r\n  // const payAmount = amount;\r\n  // const receiverToken = tokentype;\r\n\r\n  const receiverAddress = \"0xD346449636D4f585a83d3b099Ca774AC9b4098e2\";\r\n  const receiverToken = \"0xc778417E063141139Fce010982780140Aa0cD5Ab\";\r\n  const payAmount = 50;\r\n\r\n  //hooks\r\n  const [tokenListOpen, setTokenListOpen] = useState(false);\r\n  const [tokens, setTokens] = useState();\r\n  const [senderToken, setSenderToken] = useState();\r\n  const [senderTokenAmount, setSenderTokenAmount] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [senderTokenValue, setSenderTokenValue] = useState();\r\n  const [paid, setPaid] = useState(false);\r\n  const [mainBtn, setMainBtn] = useState();\r\n  const { activate, active, account, library } = useWeb3React();\r\n\r\n  let bestSenderToken = useRef(null);\r\n\r\n  let [tokenAmount, tokenValue, token, newPath] = usePay(\r\n    tokens,\r\n    tokens && tokens.find((token) => token.address === receiverToken),\r\n    senderToken,\r\n    payAmount\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSenderTokenAmount(tokenAmount);\r\n    setSenderTokenValue(tokenValue);\r\n    setSenderToken(token);\r\n  }, [tokenAmount, tokenValue, token, newPath]);\r\n\r\n  const pay = useCallback(() => {\r\n    let path;\r\n    let value = parseUnits(\"0\");\r\n    if (senderToken.address === \"0xnull\") {\r\n      senderToken.address = AddressZero;\r\n      value = parseUnits(senderTokenAmount.toString(), 18);\r\n    } else if (receiverToken === \"0xnull\") {\r\n      senderToken.address = AddressZero;\r\n    }\r\n\r\n    if (senderToken.address === receiverToken) {\r\n      path = [receiverToken];\r\n    } else {\r\n      path = [senderToken.address, receiverToken];\r\n    }\r\n\r\n    const amountIn = parseUnits(senderTokenAmount.toString(), 18);\r\n    const amountOut = parseUnits(\r\n      divide(\r\n        payAmount,\r\n        tokens.find((token) => token.address === receiverToken).price.usd\r\n      ).toString(),\r\n      18\r\n    );\r\n    const deadline = Math.floor(Date.now() / 1000) + 20 * 6000000;\r\n    setLoading(true);\r\n    fetcher(\r\n      library,\r\n      quickzapAddress,\r\n      quickzap.abi,\r\n      \"pay\",\r\n      path,\r\n      amountIn,\r\n      amountOut,\r\n      receiverAddress,\r\n      deadline,\r\n      { value: value }\r\n    );\r\n  }, [receiverToken, library, senderToken, senderTokenAmount, tokens]);\r\n\r\n  useEffect(() => {\r\n    const injected = new InjectedConnector({\r\n      supportedChainIds: [1, 3, 4, 5, 42],\r\n    });\r\n\r\n    const allowedQuickzap = async () => {\r\n      const allowed = await fetcher(\r\n        library,\r\n        senderToken.address,\r\n        erc20.abi,\r\n        \"allowance\",\r\n        account,\r\n        quickzapAddress\r\n      );\r\n      return await allowed;\r\n    };\r\n\r\n    const approveQuickzap = async () => {\r\n      fetcher(\r\n        library,\r\n        senderToken.address,\r\n        erc20.abi,\r\n        \"approve\",\r\n        quickzapAddress,\r\n        MaxUint256\r\n      );\r\n      setLoading(true);\r\n    };\r\n\r\n    let btn;\r\n    btn = !active ? (\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        fullWidth\r\n        size=\"large\"\r\n        onClick={() => activate(injected)}\r\n      >\r\n        Connect Wallet\r\n      </Button>\r\n    ) : (\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        fullWidth\r\n        size=\"large\"\r\n        disabled\r\n      >\r\n        Insufficient Tokens\r\n      </Button>\r\n    );\r\n    if (senderToken && senderToken.balance && senderToken.price) {\r\n      if (senderToken.balance >= senderTokenAmount) {\r\n        btn = (\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            size=\"large\"\r\n            onClick={pay}\r\n          >\r\n            Pay\r\n          </Button>\r\n        );\r\n      }\r\n      if (senderToken.address !== \"0xnull\") {\r\n        const allowed = allowedQuickzap();\r\n        allowed.then((res) => {\r\n          if (formatUnits(res, 18) < senderTokenAmount) {\r\n            btn = (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                size=\"large\"\r\n                onClick={approveQuickzap}\r\n              >\r\n                Approve Token\r\n              </Button>\r\n            );\r\n            setMainBtn(btn);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    setMainBtn(btn);\r\n  }, [senderToken, active, account, library, activate, pay, senderTokenAmount]);\r\n\r\n  useEffect(() => {\r\n    if (!senderToken || !senderToken.balance || !senderToken.price) return;\r\n    let contract, myApproval;\r\n    if (senderToken.address !== \"0xnull\") {\r\n      contract = new Contract(\r\n        senderToken.address,\r\n        erc20.abi,\r\n        library.getSigner()\r\n      );\r\n      myApproval = contract.filters.Approval(account, quickzapAddress);\r\n      library.on(myApproval, () => {\r\n        setLoading(false);\r\n        setSenderToken({ ...senderToken });\r\n      });\r\n    }\r\n\r\n    contract = new Contract(quickzapAddress, quickzap.abi, library.getSigner());\r\n    const myPayment = contract.filters.Payment(account, receiverAddress);\r\n    library.on(myPayment, () => {\r\n      setPaid(true);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => {\r\n      senderToken.address !== \"0xnull\" &&\r\n        library.removeAllListeners(myApproval);\r\n      library.removeAllListeners(myPayment);\r\n    };\r\n  });\r\n\r\n  //!senderToken && setSenderToken(bestSenderToken);\r\n\r\n  const handleTokenListOpen = () => {\r\n    setTokenListOpen(true);\r\n  };\r\n\r\n  const handleTokenListClose = (token) => {\r\n    if (token.address) {\r\n      setSenderToken(token);\r\n      bestSenderToken.current = undefined;\r\n    }\r\n    setTokenListOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.pay}>\r\n      <div className={classes.token}>\r\n        <Typography variant=\"h6\">Pay</Typography>\r\n        <div>\r\n          <span>{payAmount}</span>\r\n          <span className={classes.tokenSymbol}>USD</span>\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <div className={classes.token}>\r\n        <Typography variant=\"h6\">With</Typography>\r\n        <div>\r\n          <span className={classes.input}>{senderTokenAmount || \"0.0\"}</span>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            endIcon={<ExpandMore />}\r\n            onClick={handleTokenListOpen}\r\n            className={classes.selectToken}\r\n          >\r\n            {senderToken ? senderToken.symbol : \"Select Token\"}\r\n          </Button>\r\n          <Typography className={classes.usdEqv} variant=\"subtitle2\">\r\n            USD {senderTokenValue || \"0.0\"}{\" \"}\r\n            {senderToken &&\r\n            senderToken.address !== receiverToken &&\r\n            senderToken.address !== \"0xnull\" &&\r\n            receiverToken !== WETH[3] &&\r\n            senderToken.address !== WETH[3] &&\r\n            receiverToken !== \"0xnull\"\r\n              ? \"inl. 1% slippage tolerance\"\r\n              : \"\"}\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n      {loading ? (\r\n        <div className={classes.center}>\r\n          <CircularProgress color=\"primary\" size={60} />\r\n        </div>\r\n      ) : paid ? (\r\n        <div className={classes.center}>\r\n          <CheckCircleIcon color=\"primary\" fontSize=\"large\" />\r\n        </div>\r\n      ) : (\r\n        <div className={classes.payBtn}>{mainBtn}</div>\r\n      )}\r\n      <TokenList\r\n        open={tokenListOpen}\r\n        handleClose={handleTokenListClose}\r\n        setTokens={(_tokens) => !tokens && setTokens(_tokens)}\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(Pay);\r\n","import classes from \"./App.module.css\";\nimport Header from \"./components/Header\";\nimport Pay from \"./components/Pay\";\n//MUI stuff\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\n//Web3React stuff\nimport { Web3ReactProvider } from \"@web3-react/core\";\n//Ethersjs stuff\nimport { Web3Provider } from \"@ethersproject/providers\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#7a17f9\",\n    },\n    secondary: {\n      main: \"#ff13b0\",\n    },\n  },\n});\n\nconst getLibrary = (provider, connector) => new Web3Provider(provider);\n\nfunction App() {\n  return (\n    <Web3ReactProvider getLibrary={getLibrary}>\n      <ThemeProvider theme={theme}>\n        <div className={classes.App}>\n          <Header />\n          <Pay />\n        </div>\n      </ThemeProvider>\n    </Web3ReactProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n//MUI stuff\n//import \"fontsource-roboto\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}